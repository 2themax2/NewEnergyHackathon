
<div class="energy-widget card fade-in" [class.summary-widget]="widgetType === 'summary'" *ngIf="metric">
  <div class="widget-header">
    <h3 class="widget-title">
      <i *ngIf="metric.iconClass" [class]="metric.iconClass + ' title-icon'"></i>
      {{ metric.title }}
    </h3>
    <span class="widget-trend" [ngClass]="getTrendColorClass()">
      <i [class]="getTrendIcon()"></i>
    </span>
  </div>

  <div class="widget-body">
    <p class="widget-value" [ngClass]="getValueChangeClass()">
      {{ metric.value?.toLocaleString(undefined, { maximumFractionDigits: 2, minimumFractionDigits: (metric.unit === '%' || metric.unit === 'kW' || metric.unit === 'kg CO2e' ? 1 : 2) }) }}
      <span class="widget-unit">{{ metric.unit }}</span>
    </p>
    <p class="widget-last-updated" *ngIf="metric.lastUpdated">
      <i class="fas fa-clock"></i> Updated: {{ metric.lastUpdated }}
    </p>
    <p class="widget-details" *ngIf="metric.details">
      {{ metric.details }}
    </p>
  </div>

  <div class="widget-footer" *ngIf="widgetType === 'detail'">
    <a href="#" class="details-link">View Details <i class="fas fa-angle-right"></i></a>
  </div>
</div>
